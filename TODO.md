# 📋 향후 개발 계획 (TODO)

> **목적**: 앞으로 개발할 기능과 개선사항을 명확히 정리
> **업데이트**: 2025-10-17
> **우선순위**: 🔴 높음 | 🟡 중간 | 🟢 낮음

---

## 🚀 즉시 실행 가능한 작업

### 🔴 1. 전당포 시스템 완성
**현재 상태**: 기본 UI 및 Ring 통합 완료, 실제 데이터 연동 필요

#### 1-1. 사진 맡기기 실제 저장
- [ ] **API 엔드포인트**: `POST /api/pawnshop/photos`
  - 사진 업로드 처리
  - Storage에 저장
  - DB에 기록 (pawnshop_items 테이블)
  - Ring 지급 (현재 Mock: 50링)
- [ ] **테이블 생성**: `pawnshop_items`
  ```sql
  CREATE TABLE pawnshop_items (
    id UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id),
    type VARCHAR(20), -- 'PHOTO' or 'INFO'
    content TEXT, -- 정보일 경우 텍스트, 사진일 경우 storage_key
    info_type VARCHAR(20), -- 'ideal-type', 'career', 'hobbies'
    reward_amount INT,
    created_at TIMESTAMP DEFAULT NOW()
  );
  ```
- [ ] **Frontend 연동**: `pawnshop.js` submitPhoto() 함수 수정
  - FormData로 사진 전송
  - 응답받아 Ring 업데이트
  - 성공/실패 Toast 표시

#### 1-2. 정보 맡기기 실제 저장
- [ ] **API 엔드포인트**: `POST /api/pawnshop/info`
  - 텍스트 정보 저장
  - Ring 지급 (이상형: 50, 직업: 30, 취미: 20링)
- [ ] **Frontend 연동**: `pawnshop.js` submitInfo() 함수 수정

#### 1-3. 다른 사람 정보 보기 구현
- [ ] **API 엔드포인트**: `GET /api/pawnshop/items/:userId`
  - 특정 유저가 맡긴 정보/사진 조회
  - Ring 차감 (30링)
  - 열람 기록 저장
- [ ] **Frontend 구현**:
  - 사용자 카드 클릭 시 정보 모달 표시
  - 사진/정보 타입별 UI 구분
  - 열람 후 Ring 차감 표시
- [ ] **UI 디자인**: 정보 표시 모달 디자인

**예상 시간**: 4-6시간
**우선순위**: 🔴 높음 (핵심 기능)

---

### 🟡 2. Toast 시스템 개선

#### 2-1. Toast 다중 표시 개선
- [ ] **문제**: 여러 Toast가 동시에 표시될 때 겹침
- [ ] **해결**:
  - Toast들이 세로로 쌓이도록 수정
  - `margin-bottom: 1rem`으로 간격 유지
  - 새 Toast가 위에 쌓이도록 `prepend` 대신 `append` 사용

#### 2-2. Toast 아이콘 추가
- [ ] **success**: ✅ 아이콘
- [ ] **error**: ❌ 아이콘
- [ ] **info**: ℹ️ 아이콘
- [ ] **warning**: ⚠️ 아이콘

#### 2-3. Toast 진행 바 추가
- [ ] 3초 카운트다운 진행 바 (하단)
- [ ] 마우스 호버 시 일시정지 기능

**예상 시간**: 2-3시간
**우선순위**: 🟡 중간 (UX 개선)

---

### 🟢 3. Ring 화폐 시스템 UI 개선

#### 3-1. Ring 획득 애니메이션
- [ ] Ring 증가 시 숫자 카운트업 애니메이션
- [ ] Ring 아이콘 반짝이는 효과
- [ ] 획득한 Ring이 화면에서 날아가는 효과

#### 3-2. Ring 소비 애니메이션
- [ ] Ring 감소 시 숫자 카운트다운 애니메이션
- [ ] 소비된 Ring이 사라지는 효과

#### 3-3. Ring 부족 경고 개선
- [ ] 현재 보유 Ring과 필요 Ring 비교 UI
- [ ] "Ring이 부족합니다" 대신 "N링 더 필요합니다" 메시지
- [ ] Ring 충전 방법 안내 (사진/정보 맡기기)

**예상 시간**: 3-4시간
**우선순위**: 🟢 낮음 (시각적 개선)

---

## 🎯 기능 개발 로드맵

### Phase 1: 전당포 시스템 완성 (v1.63.x)
- [x] 기본 UI 구현
- [x] Ring 시스템 통합
- [x] Toast 알림 시스템
- [ ] 사진 맡기기 실제 저장
- [ ] 정보 맡기기 실제 저장
- [ ] 다른 사람 정보 보기 구현
- [ ] 전당포 테스트 및 버그 수정

### Phase 2: Battle Royale 개선 (v1.64.x)
- [x] 기본 게임 로직
- [x] 100명 사진 표시
- [x] 탈락 애니메이션
- [x] 생존자 재정렬
- [ ] 최종 승자 발표 UI
- [ ] 게임 결과 저장 (DB)
- [ ] 리더보드 시스템
- [ ] Battle Royale 통계 페이지

### Phase 3: AI 추천 시스템 업그레이드 (v1.65.x)
- [ ] 일일 추천 자동 생성 (Cron Job)
- [ ] 추천 품질 개선 알고리즘
- [ ] 추천 이유 설명 기능
- [ ] 추천 피드백 시스템

### Phase 4: 사용자 경험 개선 (v1.66.x)
- [ ] 프로필 사진 편집 기능
- [ ] 프로필 정보 수정 UI
- [ ] 알림 시스템 (새 매치, 새 메시지 등)
- [ ] 다크 모드 지원

### Phase 5: 성능 및 최적화 (v1.67.x)
- [ ] 이미지 로딩 최적화 (Lazy Loading)
- [ ] 번들 사이즈 최적화
- [ ] 캐싱 전략 강화
- [ ] PWA 지원 (모바일 앱처럼 사용)

---

## 🐛 알려진 버그 및 이슈

### 우선순위 높음 🔴
*현재 없음*

### 우선순위 중간 🟡
- [ ] **전당포 - Mock 데이터**: 현재 Mock 유저 데이터 사용중, 실제 DB 연동 필요
- [ ] **Ring System - Demo 모드**: 실제 API 없을 때 Demo 모드 동작, 프로덕션에서 제거 필요

### 우선순위 낮음 🟢
- [ ] **Toast - 다중 표시**: 여러 Toast 동시 표시 시 겹침
- [ ] **Modal - 접근성**: 일부 모달에 `aria-label` 누락

---

## 📚 기술 부채 (Technical Debt)

### 코드 품질
- [ ] **TypeScript 마이그레이션**: `public/js/` 폴더 JavaScript → TypeScript
- [ ] **ESLint 설정**: 코드 스타일 일관성 확보
- [ ] **Prettier 설정**: 자동 포맷팅

### 테스트
- [ ] **Unit Test**: 유틸리티 함수 테스트
- [ ] **Integration Test**: API 엔드포인트 테스트
- [ ] **E2E Test**: Playwright 또는 Cypress 사용

### 문서화
- [ ] **API 문서**: Swagger 또는 Postman Collection
- [ ] **컴포넌트 Storybook**: UI 컴포넌트 문서화
- [ ] **개발자 가이드**: 새 개발자를 위한 온보딩 문서

---

## 🎨 디자인 개선 아이디어

### UI/UX
- [ ] **로딩 애니메이션**: 통일된 로딩 스피너
- [ ] **에러 페이지**: 404, 500 등 커스텀 에러 페이지
- [ ] **스켈레톤 UI**: 데이터 로딩 중 스켈레톤 표시
- [ ] **마이크로 인터랙션**: 버튼 클릭, 호버 효과 개선

### 시각적 일관성
- [ ] **디자인 시스템**: 색상, 폰트, 간격 등 표준화
- [ ] **컴포넌트 라이브러리**: 재사용 가능한 UI 컴포넌트
- [ ] **아이콘 세트**: 통일된 아이콘 디자인

---

## 🔧 인프라 및 배포

### 배포 자동화
- [ ] **CI/CD 파이프라인**: GitHub Actions
- [ ] **자동 테스트**: PR 시 자동 테스트 실행
- [ ] **자동 배포**: main 브랜치 푸시 시 자동 배포

### 모니터링
- [ ] **에러 트래킹**: Sentry 또는 Rollbar
- [ ] **성능 모니터링**: Google Analytics, Vercel Analytics
- [ ] **로그 관리**: CloudWatch 또는 Datadog

### 보안
- [ ] **HTTPS 강제**: HTTP → HTTPS 리다이렉트
- [ ] **CORS 설정**: 허용된 도메인만 접근
- [ ] **Rate Limiting**: API 호출 제한
- [ ] **SQL Injection 방어**: Parameterized Query 사용 (현재 대부분 적용됨)

---

## 💡 새로운 기능 아이디어

### 소셜 기능
- [ ] **채팅 시스템**: 매치된 사용자끼리 채팅
- [ ] **친구 추가**: 관심 있는 사용자 친구 추가
- [ ] **활동 피드**: 친구들의 활동 보기

### 게임 기능
- [ ] **데일리 퀴즈**: 매일 새로운 퀴즈
- [ ] **업적 시스템**: 특정 조건 달성 시 배지 획득
- [ ] **이벤트**: 기간 한정 특별 이벤트

### 개인화
- [ ] **테마 커스터마이징**: 사용자가 UI 색상 변경
- [ ] **프로필 꾸미기**: 배경, 스티커 등
- [ ] **닉네임 뱃지**: 특별한 사용자 표시

---

## 📅 작업 우선순위 (추천)

### 이번 주
1. 🔴 전당포 사진/정보 맡기기 실제 저장 구현
2. 🔴 다른 사람 정보 보기 구현
3. 🟡 Toast 다중 표시 개선

### 다음 주
1. 🔴 Battle Royale 최종 승자 발표 UI
2. 🟡 Ring 획득/소비 애니메이션
3. 🟢 전당포 통계 페이지

### 이번 달
1. Phase 1 완료 (전당포 시스템)
2. Phase 2 완료 (Battle Royale 개선)
3. Phase 3 시작 (AI 추천 시스템)

---

## 🎓 학습 및 연구 필요

### 기술 스택
- [ ] **Next.js 15**: 최신 버전 학습
- [ ] **React Server Components**: 성능 최적화
- [ ] **PostgreSQL 고급**: 쿼리 최적화, 인덱싱

### AI/ML
- [ ] **추천 알고리즘**: Collaborative Filtering, Content-based
- [ ] **자연어 처리**: 프로필 텍스트 분석
- [ ] **이미지 인식**: 프로필 사진 자동 태깅

### DevOps
- [ ] **Docker**: 컨테이너화
- [ ] **Kubernetes**: 오케스트레이션
- [ ] **AWS/Vercel**: 클라우드 배포

---

**마지막 업데이트**: 2025-10-17
**작성자**: Claude Code
**다음 검토**: 새로운 기능 요청 시 또는 주간 단위
