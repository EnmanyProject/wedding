/* Viewport Fit - 브라우저 한 화면에 완전히 맞는 크기 */
/* 스크롤바 없이 전체 UI가 보이도록 최적화 */

:root {
  /* 📏 뷰포트 맞춤 크기 변수 */
  --viewport-width: 320px;
  --viewport-height: 100vh;
  --viewport-max-height: 600px;
  --compact-spacing: 8px;
  --compact-padding: 8px;
  --extra-compact-padding: 6px;
}

/* 📱 앱 컨테이너 뷰포트 맞춤 */
.app-container {
  max-width: var(--viewport-width) !important;
  width: var(--viewport-width) !important;
  min-height: var(--viewport-height) !important;
  max-height: var(--viewport-max-height) !important;
  height: var(--viewport-max-height) !important;
  overflow: hidden;
  position: relative;
  margin: 0 auto;
  box-sizing: border-box;
}

/* 🌟 헤더 극도로 압축 */
.app-header {
  padding: 12px 12px 16px !important;
  margin-bottom: 8px !important;
  border-radius: 0 0 12px 12px !important;
  min-height: auto !important;
}

.app-title {
  font-size: 16px !important;
  font-weight: 600 !important;
  margin: 0 !important;
}

.header-stats {
  gap: 8px !important;
}

.points-display {
  padding: 4px 8px !important;
  border-radius: 12px !important;
  font-size: 11px !important;
  font-weight: 500 !important;
  gap: 3px !important;
}

.notification-badge {
  width: 14px !important;
  height: 14px !important;
  font-size: 9px !important;
}

/* 💎 메인 콘텐츠 영역 최적화 */
.main-content {
  padding: 0 12px 60px !important;
  height: calc(100vh - 140px) !important;
  max-height: calc(var(--viewport-max-height) - 140px) !important;
  overflow-y: auto !important;
  overflow-x: hidden !important;
  box-sizing: border-box;
}

/* 🎭 섹션 카드 극압축 */
.quiz-suggestion-card,
.rankings-section,
.meetings-section,
.user-avatars-section {
  padding: var(--compact-padding) !important;
  margin-bottom: var(--compact-spacing) !important;
  border-radius: 8px !important;
}

.quiz-suggestion-card h3,
.rankings-section h3,
.meetings-section h3,
.user-avatars-section h3 {
  font-size: 14px !important;
  font-weight: 600 !important;
  margin-bottom: 6px !important;
}

.section-header p {
  font-size: 11px !important;
  margin: 0 !important;
  line-height: 1.3 !important;
}

/* 🎮 사용자 아바타 미니화 */
.user-avatars-grid {
  grid-template-columns: repeat(5, 1fr) !important;
  gap: 6px !important;
  padding: 0 !important;
}

.user-avatar-card {
  padding: 6px !important;
  border-radius: 8px !important;
  min-height: auto !important;
}

.avatar-image {
  width: 32px !important;
  height: 32px !important;
  font-size: 1.2rem !important;
  margin-bottom: 4px !important;
}

.user-avatar-name {
  font-size: 10px !important;
  font-weight: 500 !important;
  margin-top: 2px !important;
  line-height: 1.1 !important;
}

.user-quiz-badge,
.real-name-badge,
.quiz-count-badge {
  font-size: 8px !important;
  padding: 1px 4px !important;
  border-radius: 6px !important;
  min-width: 12px !important;
}

.affinity-indicator {
  font-size: 8px !important;
  padding: 2px 4px !important;
  margin-top: 2px !important;
  border-radius: 6px !important;
}

/* 🌟 버튼 미니화 */
.btn {
  padding: 6px 12px !important;
  border-radius: 16px !important;
  font-weight: 500 !important;
  font-size: 11px !important;
  gap: 3px !important;
  min-height: 28px !important;
}

/* 🔥 하단 네비게이션 압축 */
.bottom-nav {
  height: 50px !important;
  padding: 4px 0 !important;
  max-width: var(--viewport-width) !important;
  position: fixed !important;
  bottom: 0 !important;
}

.nav-item {
  padding: 4px 6px !important;
  gap: 2px !important;
  border-radius: 6px !important;
}

.nav-icon {
  font-size: 14px !important;
}

.nav-label {
  font-size: 9px !important;
  font-weight: 500 !important;
}

/* 🌙 모달 크기 조정 */
.modal-content {
  max-width: 85% !important;
  margin: 10px !important;
  border-radius: 12px !important;
}

.modal-header {
  padding: 12px 12px 0 !important;
}

.modal-header h3 {
  font-size: 14px !important;
  font-weight: 600 !important;
}

.modal-body {
  padding: 12px !important;
}

.modal-close {
  width: 20px !important;
  height: 20px !important;
  font-size: 16px !important;
}

/* 🎮 퀴즈 모달 압축 */
.quiz-options {
  gap: 8px !important;
  margin-bottom: 12px !important;
}

.quiz-option {
  padding: 8px !important;
  border-radius: 8px !important;
}

.option-image {
  width: 40px !important;
  height: 40px !important;
  margin-bottom: 6px !important;
}

.option-label {
  font-size: 10px !important;
  font-weight: 500 !important;
}

.vs-divider {
  font-size: 12px !important;
  font-weight: 600 !important;
}

.quiz-info {
  padding: 8px !important;
  border-radius: 8px !important;
  margin-bottom: 12px !important;
}

.quiz-info p {
  font-size: 10px !important;
  margin: 2px 0 !important;
}

/* 📱 모바일 스와이퍼 압축 */
.mobile-user-swiper,
.mobile-partner-swiper {
  height: 240px !important;
  border-radius: 8px !important;
  margin-bottom: 8px !important;
}

.user-card,
.partner-card {
  margin: 4px !important;
  border-radius: 10px !important;
  max-width: 280px !important;
}

.user-card-header {
  padding: 8px 8px !important;
}

.user-avatar {
  width: 40px !important;
  height: 40px !important;
  font-size: 16px !important;
  margin-bottom: 6px !important;
}

.user-name {
  font-size: 14px !important;
  font-weight: 600 !important;
}

.user-display-name {
  font-size: 11px !important;
}

.user-rank-badge {
  padding: 4px 8px !important;
  font-size: 10px !important;
  border-radius: 12px !important;
}

.user-card-body {
  padding: 8px 8px !important;
  gap: 8px !important;
}

.user-stats-grid {
  gap: 8px !important;
}

.user-stat-item {
  padding: 8px 6px !important;
  border-radius: 6px !important;
}

.user-stat-value {
  font-size: 14px !important;
  font-weight: 600 !important;
  margin-bottom: 3px !important;
}

.user-stat-label {
  font-size: 9px !important;
  font-weight: 500 !important;
}

.user-affinity-score {
  padding: 12px !important;
  border-radius: 12px !important;
  margin-top: 6px !important;
}

.affinity-label {
  font-size: 10px !important;
  margin-bottom: 4px !important;
}

.affinity-value {
  font-size: 20px !important;
  font-weight: 600 !important;
  margin-bottom: 2px !important;
}

.affinity-max {
  font-size: 8px !important;
}

.user-card-actions {
  gap: 6px !important;
  margin-top: 10px !important;
}

.card-action-btn {
  padding: 8px !important;
  border-radius: 8px !important;
  font-size: 10px !important;
  font-weight: 500 !important;
}

/* 🎯 스와이퍼 컨트롤 압축 */
.swiper-controls {
  bottom: 8px !important;
  padding: 6px 12px !important;
  border-radius: 16px !important;
  gap: 8px !important;
}

.swiper-nav-btn {
  width: 24px !important;
  height: 24px !important;
  font-size: 12px !important;
}

.swiper-counter {
  font-size: 10px !important;
  font-weight: 500 !important;
  min-width: 40px !important;
}

.swiper-pagination {
  top: 8px !important;
  gap: 4px !important;
}

.pagination-dot {
  width: 5px !important;
  height: 5px !important;
}

/* 🌟 토스트 알림 압축 */
.toast-container {
  top: 10px !important;
  right: 10px !important;
  max-width: 200px !important;
}

.toast {
  padding: 8px !important;
  margin-bottom: 6px !important;
  border-radius: 8px !important;
  font-size: 10px !important;
}

/* 📷 사진 그리드 압축 */
.photos-grid {
  grid-template-columns: repeat(auto-fill, minmax(80px, 1fr)) !important;
  gap: 8px !important;
  margin-bottom: 8px !important;
}

.photo-item {
  border-radius: 8px !important;
}

/* 📤 업로드 영역 압축 */
.upload-area {
  padding: 20px 12px !important;
  border-radius: 8px !important;
}

.upload-icon {
  font-size: 24px !important;
  margin-bottom: 8px !important;
}

.upload-area p {
  font-size: 10px !important;
  margin-bottom: 8px !important;
}

/* 🔄 로딩 화면 압축 */
.loading-character {
  margin-bottom: 0.5rem !important;
}

.bety-character {
  width: 40px !important;
  height: 40px !important;
}

.loading-spinner {
  width: 30px !important;
  height: 30px !important;
  border-width: 2px !important;
  margin-bottom: 12px !important;
}

.loading-screen p {
  font-size: 12px !important;
  margin-top: 6px !important;
}

/* 🎪 플레이스홀더 압축 */
.ranking-placeholder,
.meeting-placeholder,
.photo-placeholder,
.empty-state {
  padding: 16px 12px !important;
  border-radius: 8px !important;
}

.placeholder-icon {
  font-size: 24px !important;
  margin-bottom: 6px !important;
}

.ranking-placeholder p,
.meeting-placeholder p,
.photo-placeholder p {
  font-size: 10px !important;
  margin: 0 !important;
}

.empty-title {
  font-size: 12px !important;
  font-weight: 600 !important;
  margin-bottom: 6px !important;
}

.empty-message {
  font-size: 10px !important;
}

/* 🎭 캐릭터 선택 모달 압축 */
.character-grid {
  grid-template-columns: repeat(auto-fit, minmax(70px, 1fr)) !important;
  gap: 8px !important;
  padding: 0 !important;
}

.character-card {
  padding: 8px !important;
  border-radius: 8px !important;
}

.character-avatar {
  margin-bottom: 6px !important;
}

.avatar-icon {
  font-size: 1.5rem !important;
}

.character-name {
  font-size: 10px !important;
  font-weight: 500 !important;
}

/* 🔥 결과 모달 압축 */
.result-modal .modal-content {
  max-width: 280px !important;
}

.result-icon {
  font-size: 36px !important;
  margin-bottom: 12px !important;
}

.result-message {
  font-size: 14px !important;
  font-weight: 500 !important;
  margin-bottom: 16px !important;
}

.result-stats {
  padding: 12px !important;
  border-radius: 8px !important;
  margin-bottom: 16px !important;
}

.stat-item {
  margin-bottom: 6px !important;
  font-size: 10px !important;
}

.stat-value {
  font-size: 12px !important;
  font-weight: 600 !important;
}

/* 📏 스크롤바 숨기기 */
.main-content::-webkit-scrollbar {
  width: 2px !important;
}

.main-content::-webkit-scrollbar-track {
  background: transparent !important;
}

.main-content::-webkit-scrollbar-thumb {
  background: var(--border-color) !important;
  border-radius: 1px !important;
}

/* 📱 웰컴 섹션 압축 */
.welcome-section {
  text-align: center !important;
  margin-bottom: 8px !important;
}

.welcome-section h2 {
  font-size: 16px !important;
  font-weight: 600 !important;
  margin-bottom: 4px !important;
}

.welcome-section p {
  font-size: 11px !important;
  margin: 0 !important;
}

/* 🔧 매우 작은 뷰포트 대응 */
@media (max-height: 600px) {
  .app-container {
    height: 100vh !important;
    max-height: 100vh !important;
  }

  .main-content {
    height: calc(100vh - 120px) !important;
    max-height: calc(100vh - 120px) !important;
  }

  .mobile-user-swiper,
  .mobile-partner-swiper {
    height: 240px !important;
  }
}

@media (max-height: 500px) {
  .mobile-user-swiper,
  .mobile-partner-swiper {
    height: 200px !important;
  }

  .user-avatars-grid {
    grid-template-columns: repeat(6, 1fr) !important;
    gap: 4px !important;
  }

  .avatar-image {
    width: 28px !important;
    height: 28px !important;
    font-size: 1rem !important;
  }
}