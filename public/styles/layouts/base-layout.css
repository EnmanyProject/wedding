/* ==========================================
   BASE LAYOUT - Hybrid Responsive System
   Phase 1: Mobile-First Foundation
   ========================================== */

/* ==========================================
   MOBILE FIRST (Default: < 768px)
   기존 모바일 레이아웃 100% 유지
   ========================================== */

/* App Container - 모바일 기본 레이아웃 */
.app-container {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
  max-width: var(--content-max-width-mobile);
  margin: 0 auto;
  background-color: var(--color-bg-primary);
}

/* Main Content - 모바일 */
.app-main,
.main-content {
  flex: 1;
  width: 100%;
  padding: var(--space-md);
  overflow-y: auto;
}

/* Bottom Navigation - 모바일 (기존 유지) */
.bottom-nav {
  position: fixed;
  bottom: 0;
  left: 0;
  right: 0;
  z-index: var(--z-navigation);
  /* 기존 스타일 유지 */
}

/* Sidebar Navigation - 모바일에서는 숨김 */
.sidebar-nav {
  display: none;
}

/* ==========================================
   TABLET (768px - 1023px)
   적응형 레이아웃 - 콘텐츠 우선
   ========================================== */

@media (min-width: 768px) {
  /* App Container - 태블릿 */
  .app-container {
    max-width: var(--content-max-width-tablet);
  }

  /* Main Content - 태블릿 */
  .app-main,
  .main-content {
    padding: var(--space-lg);
  }

  /* Bottom Navigation - 태블릿에서도 유지 */
  .bottom-nav {
    /* 기존 스타일 유지 */
  }

  /* Sidebar Navigation - 태블릿에서는 여전히 숨김 */
  .sidebar-nav {
    display: none;
  }
}

/* ==========================================
   TABLET LANDSCAPE / SMALL DESKTOP (1024px - 1279px)
   하이브리드 전환 시작 - 사이드바 선택적 활성화
   ========================================== */

@media (min-width: 1024px) {
  /* App Container - 하이브리드 */
  .app-container {
    max-width: 100vw;
    margin: 0;
  }

  /* Main Content - 하이브리드 */
  .app-main,
  .main-content {
    padding: var(--space-xl);
  }

  /* Bottom Navigation - 하이브리드에서는 여전히 표시 (토글 가능) */
  .bottom-nav {
    /* 기존 스타일 유지 */
  }

  /* Sidebar Navigation - 하이브리드에서는 토글 가능 (기본 숨김) */
  .sidebar-nav {
    display: none; /* 아직 구현 전, Phase 2에서 활성화 */
  }
}

/* ==========================================
   DESKTOP (1280px - 1919px)
   완전한 데스크톱 레이아웃 - 사이드바 + 그리드
   ========================================== */

@media (min-width: 1280px) {
  /* App Container - 데스크톱 그리드 레이아웃 */
  .app-container {
    display: grid;
    grid-template-areas:
      "sidebar header"
      "sidebar content";
    grid-template-columns: var(--sidebar-width) 1fr;
    grid-template-rows: var(--header-height) 1fr;
    min-height: 100vh;
    max-width: 100vw;
    margin: 0;
  }

  /* Header - 데스크톱 상단 바 */
  .app-header {
    grid-area: header;
    position: sticky;
    top: 0;
    height: var(--header-height);
    border-radius: 0;
    padding: 15px 40px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    z-index: var(--z-header);
  }

  /* Sidebar Navigation - 데스크톱에서 활성화 (Phase 2에서 구현) */
  .sidebar-nav {
    grid-area: sidebar;
    display: flex; /* Phase 2에서 구현될 예정 */
    flex-direction: column;
    position: fixed;
    left: 0;
    top: 0;
    width: var(--sidebar-width);
    height: 100vh;
    background: linear-gradient(180deg, var(--color-bg-secondary) 0%, var(--color-bg-tertiary) 100%);
    border-right: 1px solid var(--color-border-primary);
    z-index: var(--z-sidebar);
    padding: 20px 0;
    overflow-y: auto;

    /* 현재는 숨김 (Phase 2에서 활성화) */
    display: none;
  }

  /* Main Content - 데스크톱 */
  .app-main,
  .main-content {
    grid-area: content;
    margin-left: 0; /* Sidebar가 활성화되면 var(--sidebar-width)로 변경 */
    padding: 40px 60px;
    overflow-y: auto;
    max-width: var(--content-max-width-desktop);
    margin: 0 auto;
    width: 100%;
  }

  /* Bottom Navigation - 데스크톱에서 숨김 */
  .bottom-nav {
    display: none;
  }
}

/* ==========================================
   LARGE DESKTOP (1920px+)
   최대 콘텐츠 밀도 - 우측 패널 추가
   ========================================== */

@media (min-width: 1920px) {
  /* App Container - 대형 데스크톱 그리드 레이아웃 */
  .app-container {
    grid-template-areas:
      "sidebar header right-panel"
      "sidebar content right-panel";
    grid-template-columns: var(--sidebar-width) 1fr var(--right-panel-width);
  }

  /* Right Panel - 대형 데스크톱 우측 패널 (Phase 5에서 구현 예정) */
  .right-panel {
    grid-area: right-panel;
    display: flex;
    flex-direction: column;
    background: rgba(26, 26, 26, 0.95);
    border-left: 1px solid var(--color-border-primary);
    padding: 20px;
    overflow-y: auto;

    /* 현재는 숨김 (Phase 5에서 활성화) */
    display: none;
  }

  /* Main Content - 대형 데스크톱 */
  .app-main,
  .main-content {
    max-width: var(--content-max-width-large);
  }
}

/* ==========================================
   TRANSITION ANIMATIONS
   레이아웃 전환 시 부드러운 애니메이션
   ========================================== */

.app-container,
.sidebar-nav,
.bottom-nav,
.app-main,
.main-content {
  transition: all var(--transition-layout);
}

/* ==========================================
   LAYOUT MODE SPECIFIC ADJUSTMENTS
   (data-layout-mode 속성 기반)
   ========================================== */

/* Mobile Mode */
[data-layout-mode="mobile"] .app-container {
  /* 모바일 전용 스타일 (필요 시 추가) */
}

/* Tablet Mode */
[data-layout-mode="tablet"] .app-container {
  /* 태블릿 전용 스타일 (필요 시 추가) */
}

/* Hybrid Mode */
[data-layout-mode="hybrid"] .app-container {
  /* 하이브리드 전용 스타일 (필요 시 추가) */
}

/* Desktop Mode */
[data-layout-mode="desktop"] .app-container {
  /* 데스크톱 전용 스타일 (필요 시 추가) */
}

/* Large Desktop Mode */
[data-layout-mode="large"] .app-container {
  /* 대형 데스크톱 전용 스타일 (필요 시 추가) */
}

/* ==========================================
   ACCESSIBILITY
   ========================================== */

/* Skip to main content link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--color-primary);
  color: white;
  padding: 8px 16px;
  text-decoration: none;
  z-index: 9999;
  border-radius: 0 0 var(--radius-md) 0;
}

.skip-link:focus {
  top: 0;
}

/* ==========================================
   PRINT STYLES
   ========================================== */

@media print {
  .sidebar-nav,
  .bottom-nav,
  .app-header {
    display: none !important;
  }

  .app-container {
    display: block;
    max-width: 100%;
  }

  .app-main,
  .main-content {
    padding: 0;
  }
}
